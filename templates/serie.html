{% extends "base.html" %}
{% block title %}{{ serie_name }} — METFLIX{% endblock %}

{% block content %}
<a class="btn btn-ghost btn-back" href="{{ url_for('index') }}">Voltar</a>

<section class="serie-hero">
    <div class="serie-poster">
        {% if poster %}
            <img class="serie-poster-img"
                 src="{{ url_for('media_file', relative_path=poster) }}"
                 alt="Poster de {{ serie_name }}"
                 loading="lazy"
                 decoding="async">
        {% else %}
            <div class="serie-poster-placeholder">{{ serie_name }}</div>
        {% endif %}
    </div>
    <div class="serie-info">
        <p class="serie-eyebrow">Série</p>
        <h1 class="page-title">{{ serie_name }}</h1>
        <p class="serie-meta">{{ seasons|length }} temporadas</p>

        <div class="season-picker">
            <label for="seasonSelect">Selecionar temporada</label>
            <div class="select-wrapper">
                <select id="seasonSelect">
                    {% for i in range(seasons|length) %}
                        <option value="{{ i }}">{{ seasons[i].name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
    </div>
</section>

<section class="section">
    <div class="section-header">
        <h2 class="section-title">Episódios</h2>
    </div>
    <div id="episodesList"
         class="episodes-list"
         data-serie="{{ serie_name }}"
         data-watch-base="{{ url_for('watch', relative_path='__PATH__') }}">
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/serie.js') }}" defer></script>
{% endblock %}
